<!--
<!DOCTYPE html>
<section class="container centered">
 <div class="about">
    
    <div id="wallpaper">
      <img src="./images/pak_panang_groves.jpg">
    </div>
    
   </div>
</section>
-->

<section class="container centered home-swiper-wrapper">
  <div class="about">
    
    <!--debug block-->
    <!-- <pre>{{ jsonify .Site.Data.photos | safeHTML }}</pre> -->

    <!-- Swiper styles -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

    <!-- Swiper container -->
    <div class="swiper-container">
      <div class="swiper-wrapper">
        {{ range .Site.Data.photos }}
          <div class="swiper-slide">
            <img src="{{ .url }}" alt="{{ .alt }}">
          </div>
        {{ end }}
      </div>

      <!-- Navigation and pagination -->
      <div class="swiper-button-next"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-pagination"></div>
    </div>

    <!-- Swiper script -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const container = document.querySelector('.swiper-container');
        const images = container.querySelectorAll('img');
      
        let loadedImages = 0;
        images.forEach(img => {
          if (img.complete) {
            loadedImages++;
          } else {
            img.addEventListener('load', () => {
              loadedImages++;
              if (loadedImages === images.length) {
                initSwiper();
              }
            });
            img.addEventListener('error', () => {
              loadedImages++;  // count errors to avoid hanging
              if (loadedImages === images.length) {
                initSwiper();
              }
            });
          }
        });
      
        // If all images are already loaded
        if (loadedImages === images.length) {
          initSwiper();
        }
      
        function initSwiper() {
          if (!window.mySwiper) {
            window.mySwiper = new Swiper('.swiper-container', {
              loop: true,
              autoplay: { delay: 5000, disableOnInteraction: false },
              pagination: { el: '.swiper-pagination', clickable: true },
              navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' }
            });
          }
        }
      });
    </script>
    
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const nav = document.querySelector(".navigation");
        const content = document.querySelector(".home-swiper-wrapper");
    
        if (nav && content) {
          const navHeight = nav.offsetHeight;
          content.style.paddingTop = navHeight + "px";
        }
      });
    </script>

      <div class="home text">
        <strong style="color:#DC4405;"> We research forest-based climate solutions - the projects, policies, and programs that seek to mitigate climate change through improved stewardship of forest ecosystems.</strong>
        
        <p>Our research is both interdisciplinary and applied, and we often collaborate with individuals and groups across government, non-profit, and the for-profit sectors. By integrating data, methods, and frameworks from both the natural and social sciences, we tackle difficult questions that can guide improved decision-making for forest stewardship. We work across a variety of ecosystem types and spatial scales but are particularly fond of mangrove ecosystems (the intertidal forests found along tropical and sub-tropical coasts) and our backyard forests of the Pacific Northwest.</p>
    </div>

  </div>
  

    
</section>
